html {
  margin: 0;
  font-variant-ligatures: none;
  background-color: #0a0a0a;
  color: #E5E7EB;
  font-family: "Departure", monospace;
  font-size: 22px;
  line-height: 22px;
  height: 100%;
  overflow: hidden;
}

body {
  margin: 0;
  height: 100%;
  overflow: hidden;
}

pre {
  display: block;
  margin: 0 auto;
  width: 70ch;
  position: relative;
  z-index: 0;
  font-variant-ligatures: none;
  background-color: #0a0a0a;
  color: #E5E7EB;
  font-family: "Departure", monospace;
  font-size: 11px;
  line-height: 1em;
  box-sizing: border-box;
  padding: 0;
  overflow: hidden;
  min-width: 490px;
  transform-origin: top center;
}

/* stage one */
@media (min-width: 759px) {
  pre { font-size: 16.5px; }
}

/* stage two */
@media (min-width: 1012px) {
  pre { font-size: 22px; }
}

/* stage three */
@media (min-width: 1518px) {
  pre { font-size: 33px; }
}

@font-face {
  font-family: "Departure";
  src: url("./public/departure.woff") format("woff");
}
#pre-content-above-490 {
  display: block;
}
#pre-content-below-490 {
  display: none;
  margin: 0;
}
#animation-content-above-490 {
  /* hidden when below 490px */
  opacity: 0;
  transition: opacity 0.35s ease-in;
}
#animation-content-above-490.loaded {
  color: #E5E7EB;
  opacity: 1;
}
#animation-content-below-490 {
  /* hidden when above 490px */
  display: none;
  opacity: 0;
  transition: opacity 0.35s ease-in;
}
#animation-content-below-490.loaded {
  color: #E5E7EB;
  opacity: 1;
  max-width: 336px;
}
/* swap to the rotated layout when viewport is 490px wide or smaller */
@media (max-width: 490px) {
  #pre-content-above-490 { 
    display: none; 
  }
  #pre-content-below-490 { 
    display: block;
    position: relative;
    margin: 0 auto;              /* center horizontally */
    width: max-content;          /* shrink to content width */
    min-width: 0;                /* override global min-width from pre */
  }
  #animation-content-below-490 {
    display: block;
    font-size: 11px;       /* increase size of rotated JSON */
    line-height: 1em;     
    letter-spacing: 11.2px;     /* no extra spacing between characters */
  }
}
a {
  color: #E5E7EB;
  text-decoration: none;
  transition: color 0.7s ease-out, opacity 0.7s ease-out;
}
a:hover {
  color: #FFFFFF;
  opacity: 0.9;
  transition: color 0.7s ease-out, opacity 0.7s ease-out;
}
#brand:hover {
  color: #FFFFFF;
  opacity: 0.9;
  transition: color 0.7s ease-out, opacity 0.7s ease-out;
}

/* Blink animation for bracket and arrow accents */
@keyframes blink {
  0%, 49% { opacity: 1; }
  50%, 100% { opacity: 0; }
}
#brand:hover .brand-bracket {
  animation: blink 1s steps(1, end) infinite;
}
a[href^="mailto:"]:hover .mail-arrow {
  animation: blink 1s steps(1, end) infinite;
}

/* Subtle visual snow / static overlay */
.noise-overlay {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  z-index: 5;
  pointer-events: none;
  opacity: 0.105;
  background-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='120' height='120' viewBox='0 0 120 120'><filter id='n'><feTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='4' stitchTiles='stitch'/></filter><rect width='100%' height='100%' filter='url(%23n)'/></svg>");
  background-size: 140px 140px;
  animation: noiseShift 0.35s steps(7, end) infinite;
}

@keyframes noiseShift {
  0%   { background-position:   0px   0px; }
  12%  { background-position: -21px  35px; }
  25%  { background-position: -63px  77px; }
  37%  { background-position:  42px -56px; }
  50%  { background-position:  84px -7px; }
  62%  { background-position: -35px  63px; }
  75%  { background-position:  56px  21px; }
  87%  { background-position: -70px -42px; }
  100% { background-position:   0px   0px; }
}

@media (prefers-reduced-motion: reduce) {
  .noise-overlay { animation: none; opacity: 0.07; }
}


